{% load static %}
<div id="search-input">
	<form action="/product/" method="get">
		<img src="{% static 'estore/images/search.png' %}" alt="" onclick=openSearch() class="icon-img search">
		<input type="text" id="header-input" onkeyup=suggestText() value="" name="product" placeholder="Try 'acer'">
		<button type="submit"><img src="{% static 'estore/images/next.png' %}" id="header-submit" class="icon-img"
				alt=""></button>
		<img src="{% static 'estore/images/close.png' %}" alt="" onclick=closeSearch() class="icon-img search">
	</form>
	<div id="suggestion">
		<ul>
			
		</ul>
	</div>
</div>
<div id="menu-drawer">
	<ul id="menu-items">
		<li class="close-item"><a href="javascript:void(0)" class="menu-close" onclick=closeMenu()><img
					src="{% static 'estore/images/close.png' %}" alt=""></a></li>
		<li><a href="/">Home</a></li>
		<li><a href="/cart">Cart</a></li>
		<li><a href="/profile">Profile</a></li>
		<li><a href="/profile">Orders</a></li>
		<li>{% if user.is_authenticated %}<a href="/logout">Logout</a>{% else %}<a href="/login">Login</a>{% endif %}</li>
	</ul>
</div>
<!-- header -->
<div id="header">
	<h3>
		<a href="/" class="logo">logo</a>
	</h3>
	<div id="mob-nav">
		<ul>
			<li><img src="{% static 'estore/images/search.png' %}" alt="" onclick=openSearch() class="icon-img search"></li>
			<li><a href="/profile"><img src="{% static 'estore/images/user.png' %}" alt="" class="icon-img"></a></li>
			<li><a href="/cart"><img src="{% static 'estore/images/cart.png' %}" alt="" class="icon-img"></a></li>
			<li><img src="{% static 'estore/images/menu.png' %}" alt="" onclick=openMenu() class="icon-img"></li>
		</ul>
	</div>
</div>
<script>
	document.addEventListener('DOMContentLoaded', function () {
		let xhr = new XMLHttpRequest();
		xhr.open('GET', "/get-csrf-token/", true);
		xhr.onreadystatechange = function () {
			if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
				let data = JSON.parse(xhr.responseText);
				localStorage.setItem('csrfToken', data.csrfToken);
			}
		}
		xhr.send();
	});

</script>
